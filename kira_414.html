<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸ® Ù…ØªØ¬Ø± ÙƒÙŠØ±Ø§</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #061026;
      --bg2: #022544;
      --card: rgba(10,16,30,0.95);
      --accent: #67b7ff;
      --muted: #b6d9ff;
      --glass: rgba(255,255,255,0.03);
    }

    *{box-sizing: border-box}
    body{
      margin:0;
      font-family:'Cairo', Arial, sans-serif;
      background: linear-gradient(180deg, var(--bg1), var(--bg2));
      color: #eaf6ff;
      padding-bottom:60px;
    }

    header{
      padding:24px 16px;
      text-align:center;
      position:sticky;
      top:0;
      z-index:50;
      background: linear-gradient(180deg, rgba(2,37,68,0.12), rgba(2,37,68,0.05));
      backdrop-filter: blur(6px);
      box-shadow: 0 4px 18px rgba(0,0,0,0.4);
    }
    .title{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:center;
      flex-wrap:wrap;
    }
    .logo{
      background: linear-gradient(135deg,#0099ff,#003b8e);
      color:white;
      font-weight:800;
      padding:8px 12px;
      border-radius:10px;
      font-size:18px;
      box-shadow: 0 6px 18px rgba(0,120,255,0.18);
    }
    h1{ margin:0; font-size:1.55rem; letter-spacing:1px; }

    .controls{ margin-top:12px; display:flex;gap:12px; justify-content:center; flex-wrap:wrap; }

    .search {
      display:flex;align-items:center;gap:8px;
      background:var(--glass); padding:8px;border-radius:12px;
      width:min(760px,92%); box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02);
    }
    .search input{ background:transparent;border:0;outline:0;color:var(--muted);font-size:16px;padding:8px 6px;width:100%; }
    .search .icon{font-size:20px;color:var(--accent);padding:2px 6px}

    .filters{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center; margin-top:10px; }
    .filter-btn{
      background:transparent;border:1px solid rgba(255,255,255,0.06);
      color:var(--muted); padding:8px 12px;border-radius:999px; cursor:pointer; font-weight:600;
      transition: all .18s ease;
    }
    .filter-btn.active{
      background: linear-gradient(90deg,#0059d6,#003a8e); color:white;
      box-shadow: 0 6px 20px rgba(0,120,255,0.18); transform:translateY(-2px);
    }

    main{ padding:18px; max-width:1200px; margin: 10px auto 60px; }

    .grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:18px; margin-top:18px; }
    @media (max-width:1000px){ .grid{grid-template-columns: repeat(2,1fr)} }
    @media (max-width:640px){ .grid{grid-template-columns: repeat(1,1fr)} }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px; overflow:hidden; box-shadow: 0 8px 30px rgba(0,40,100,0.25);
      transition: transform .25s ease, box-shadow .25s ease; border: 1px solid rgba(255,255,255,0.03);
      display:flex; flex-direction:column; min-height:340px;
    }
    .card:hover{ transform:translateY(-8px); box-shadow: 0 18px 50px rgba(0,70,200,0.22); }

    .thumb{ width:100%; height:190px; object-fit:cover; display:block; background:linear-gradient(90deg,#022544,#00121f); }
    .card-body{ padding:12px 14px 16px; text-align:right; flex:1; display:flex; flex-direction:column; gap:10px; }

    .game-title{ display:flex; justify-content:space-between; gap:8px; align-items:center; }
    .game-title h3{ margin:0; font-size:1.05rem; color:#e6f7ff; }
    .meta{ color:var(--muted); font-size:0.95rem; margin:0; }

    .tags{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    .tag{ font-size:12px; background:rgba(0,120,255,0.08); color:var(--accent); padding:4px 8px; border-radius:999px; border:1px solid rgba(0,120,255,0.06); }

    .actions{ display:flex; justify-content:space-between; align-items:center; gap:8px; margin-top:auto; }
    .left-actions{ display:flex; gap:8px; align-items:center; }
    .btn{ padding:8px 12px; border-radius:10px; border:0; cursor:pointer; font-weight:700; font-size:14px; background:linear-gradient(90deg,#007bff,#0047ab); color:white; box-shadow: 0 6px 18px rgba(0,70,200,0.18); transition:transform .14s ease; }
    .btn:active{ transform:translateY(1px); }
    .outline{ background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--muted); box-shadow:none; }

    .fav{ background:transparent; border:0; font-size:22px; cursor:pointer; color:rgba(255,255,255,0.65); transition: transform .12s ease; }
    .fav.active{ color:#ff6b9a; transform:scale(1.07); }

    .stars{ display:inline-flex; gap:4px; align-items:center; }
    .star{ font-size:18px; color:rgba(255,255,255,0.18); cursor:pointer; transition:color .12s; }
    .star.on{ color: #ffd166; }

    footer{ margin-top:30px; text-align:center; color:rgba(255,255,255,0.55); font-size:14px; }
    .badge{ background: linear-gradient(90deg,#00d4ff, #0066ff); padding:6px 10px; border-radius:999px; font-weight:700; color:white; box-shadow: 0 8px 20px rgba(0,100,255,0.12); }
    .empty{ text-align:center; padding:40px 10px; color:rgba(255,255,255,0.6); font-size:18px; }

  </style>
</head>
<body>

  <header>
    <div class="title">
      <div class="logo">Ù…ØªØ¬Ø± ÙƒÙŠØ±Ø§</div>
      <h1>ğŸ® Ù…ØªØ¬Ø± ÙƒÙŠØ±Ø§ â€” Ù…ØªØ¬Ø± Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</h1>
    </div>

    <div class="controls">
      <div class="search" role="search" aria-label="Ø¨Ø­Ø«">
        <span class="icon">ğŸ”</span>
        <input id="searchInput" type="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù„Ø¹Ø¨Ø©... (Ù…Ø«Ø§Ù„: Ø³Ø¨Ø§Ù‚ØŒ Ø°ÙƒØ§Ø¡ØŒ Flappy)"/>
        <button id="clearBtn" title="Ù…Ø³Ø­" style="background:transparent;border:0;color:var(--muted);cursor:pointer;padding:6px">âœ–</button>
      </div>
    </div>

    <div class="filters" id="filters"></div>
  </header>

  <main>
    <div style="display:flex;justify-content:space-between;gap:12px;align-items:center;flex-wrap:wrap">
      <div style="display:flex;gap:8px;align-items:center">
        <span class="badge">70 Ø£Ù„Ø¹Ø§Ø¨</span>
        <div style="color:var(--muted);margin-right:10px;font-weight:600">Ø§Ù„ØªØµÙ†ÙŠÙ: <span id="activeCat">Ø§Ù„ÙƒÙ„</span></div>
      </div>

      <div style="display:flex;gap:8px;align-items:center">
        <label style="color:var(--muted);font-weight:600">Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹:</label>
        <select id="sortSelect" style="padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted)">
          <option value="relevance">Ø§Ù„Ø£ÙƒØ«Ø± ØµÙ„Ø©</option>
          <option value="popular">Ø§Ù„Ø£ÙƒØ«Ø± ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</option>
          <option value="alpha">ØªØ±ØªÙŠØ¨ Ø£Ø¨Ø¬Ø¯ÙŠ</option>
        </select>
      </div>
    </div>

    <div id="grid" class="grid" aria-live="polite"></div>
    <div id="empty" class="empty" style="display:none">Ù„Ù… Ù†ÙØ¬ÙØ¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©. Ø¬Ø±Ù‘Ø¨ ÙƒÙ„Ù…Ø© Ø¨Ø­Ø« Ø£Ø®Ø±Ù‰.</div>

    <footer>
      ØªÙ… ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø®ØµÙŠØµÙ‹Ø§ Ù„Ù…ØªØ¬Ø± ÙƒÙŠØ±Ø§ â€” Ø§Ù„Ø¨Ø­Ø«ØŒ Ø§Ù„ØªØµÙ†ÙŠÙØŒ ÙˆØ§Ù„Ù…ÙØ¶Ù„Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠÙ‹Ø§.
    </footer>
  </main>

  <script>
    const games = [
      {id:1, name:"Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ù†Ø´ (Snake)", desc:"ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø­Ù†Ø´ ÙˆØ£ÙƒÙ„ Ø§Ù„ØªÙØ§Ø­ Ø¨Ø¯ÙˆÙ† Ø£Ù† ØªØµØ·Ø¯Ù…", category:"Ø£Ø±ÙƒÙŠØ¯", image:"https://source.unsplash.com/800x420/?snake,video-game"},
      {id:2, name:"ÙƒØ±Ø© Ø§Ù„Ø³Ù„Ø©", desc:"Ø§Ø¶ØºØ· ÙˆØ§Ø³Ø­Ø¨ Ù„Ø±Ù…ÙŠ Ø§Ù„ÙƒØ±Ø© Ù†Ø­Ùˆ Ø§Ù„Ø³Ù„Ø©", category:"Ø±ÙŠØ§Ø¶Ø©", image:"https://source.unsplash.com/800x420/?basketball,ball,stadium"},
      {id:3, name:"ØªÙØ§Ø¯ÙŠ Ø§Ù„ØµÙˆØ§Ø±ÙŠØ®", desc:"ØªØ¬Ù†Ù‘Ø¨ Ø§Ù„ØµÙˆØ§Ø±ÙŠØ® ÙˆØ­Ù‚Ù‚ Ø£Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø·", category:"Ø£ÙƒØ´Ù†", image:"https://source.unsplash.com/800x420/?space,shooter,game"},
      {id:4, name:"ØªÙƒØ³ÙŠØ± Ø§Ù„Ø·ÙˆØ¨", desc:"Ø§ÙƒØ³Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·ÙˆØ¨ Ø¨Ø§Ù„ÙƒØ±Ø©", category:"Ø£Ø±ÙƒÙŠØ¯", image:"https://source.unsplash.com/800x420/?brick,block,game"},
      {id:5, name:"Flappy Ø§Ù„Ø·Ø§Ø¦Ø±", desc:"Ø§Ø¶ØºØ· Ù„ØªØ®Ø·ÙŠ Ø§Ù„Ø£Ù†Ø§Ø¨ÙŠØ¨", category:"Ø£Ø±ÙƒÙŠØ¯", image:"https://source.unsplash.com/800x420/?bird,flappy,game"},
      {id:6, name:"Ø³Ø¨Ø§Ù‚ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª", desc:"Ù†Ø§ÙØ³ Ù„ØªØµÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø®Ø· Ø§Ù„Ù†Ù‡Ø§ÙŠØ©", category:"Ø³Ø¨Ø§Ù‚", image:"https://source.unsplash.com/800x420/?race,car,racing"},
      {id:7, name:"Ù‚Ù†Ø§Øµ Ø§Ù„Ø¯Ù‚Ø©", desc:"ØµÙˆÙ‘Ø¨ Ø¨Ø¯Ù‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©", category:"Ø£ÙƒØ´Ù†", image:"https://source.unsplash.com/800x420/?sniper,shooter,aim"},
      {id:8, name:"Ù‚Ù†Ø§Ø¨Ù„ Ø§Ù„ÙˆÙ‚Øª", desc:"ÙÙƒÙ‘ Ø§Ù„Ø´ÙØ±Ø© Ù‚Ø¨Ù„ Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ù‚Ù†Ø§Ø¨Ù„", category:"Ø£Ù„ØºØ§Ø²", image:"https://source.unsplash.com/800x420/?bomb,puzzle,clock"},
      {id:9, name:"Ø£Ù„ØºØ§Ø² Ø§Ù„Ù…Ù†Ø·Ù‚", desc:"Ø­Ù„ Ø£Ù„ØºØ§Ø² Ø°Ù‡Ù†ÙŠØ© Ù…Ù…ØªØ¹Ø©", category:"Ø£Ù„ØºØ§Ø²", image:"https://source.unsplash.com/800x420/?puzzle,brain,logic"},
      {id:10, name:"Ù‡Ø±ÙˆØ¨ Ø§Ù„Ø£Ø´Ø¨Ø§Ø­", desc:"Ø§Ø¬Ù…Ø¹ Ø§Ù„Ù†Ø¬ÙˆÙ… ÙˆØªØ¬Ù†Ù‘Ø¨ Ø§Ù„Ø£Ø´Ø¨Ø§Ø­", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?ghost,spooky,game"},
      {id:11, name:"ØµÙŠØ¯ Ø§Ù„Ø·ÙŠÙˆØ±", desc:"Ø£Ø·Ù„Ù‚ Ø³Ù‡Ø§Ù…Ùƒ Ù„ØµÙŠØ¯ Ø§Ù„Ø·ÙŠÙˆØ±", category:"Ø±ÙŠØ§Ø¶Ø©", image:"https://source.unsplash.com/800x420/?archery,bow,arrow"},
      {id:12, name:"Ø³Ø¨Ø§Ù‚ Ø§Ù„Ø¯Ø±Ø§Ø¬Ø§Øª", desc:"Ù‚Ø¯ Ø¯Ø±Ø§Ø¬ØªÙƒ Ø¹Ø¨Ø± Ù…Ø³Ø§Ø±Ø§Øª ÙˆØ¹Ø±Ø©", category:"Ø³Ø¨Ø§Ù‚", image:"https://source.unsplash.com/800x420/?bike,racing,mountain"},
      {id:13, name:"Ø¯ÙØ§Ø¹ Ø§Ù„Ù‚Ù„Ø¹Ø©", desc:"Ø§Ø¨Ù† Ø¯ÙØ§Ø¹Ø§ØªÙƒ ÙˆØ¯Ø§ÙØ¹ Ø¹Ù† Ø§Ù„Ù‚Ù„Ø¹Ø©", category:"Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©", image:"https://source.unsplash.com/800x420/?castle,defense,tower"},
      {id:14, name:"Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°Ø§ÙƒØ±Ø©", desc:"Ø§Ø®ØªØ¨Ø± Ø°Ø§ÙƒØ±ØªÙƒ Ù…Ø¹ Ù…Ø±Ø§Ø­Ù„ Ø³Ø±ÙŠØ¹Ø©", category:"ØªØ¹Ù„ÙŠÙ…ÙŠ", image:"https://source.unsplash.com/800x420/?memory,brain,game"},
      {id:15, name:"ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…", desc:"Ø³Ø¯Ø¯ Ø§Ù„Ø±ÙƒÙ„Ø§Øª ÙˆØ­Ù‚Ù‚ Ø§Ù„ÙÙˆØ²", category:"Ø±ÙŠØ§Ø¶Ø©", image:"https://source.unsplash.com/800x420/?football,stadium,soccer"},
      {id:16, name:"Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹", desc:"Ø§Ù†Ù‚Ø± Ù…Ø¹ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ Ù„ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø·", category:"Ù…ÙˆØ³ÙŠÙ‚Ù‰", image:"https://source.unsplash.com/800x420/?music,rhythm,game"},
      {id:17, name:"Ø§Ù„Ù‚ÙØ² Ø§Ù„Ù…Ø¸Ù„ÙŠ", desc:"Ø§Ù‡Ø¨Ø· Ø¨Ø£Ù…Ø§Ù† ÙˆØªØ¬Ù†Ù‘Ø¨ Ø§Ù„Ø¹Ù‚Ø¨Ø§Øª", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?skydiving,parachute,adventure"},
      {id:18, name:"Ø·Ø§Ø¦Ø±Ø© Ø§Ù„Ø¥Ù†Ù‚Ø§Ø°", desc:"Ø£Ù†Ù‚Ø° Ø§Ù„Ù…Ø¯Ù†ÙŠÙŠÙ† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø·Ø§Ø¦Ø±Ø©", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?helicopter,rescue,mission"},
      {id:19, name:"Ù…ØºØ§Ù…Ø±Ø§Øª Ø§Ù„Ø¨Ø·Ù„", desc:"ØªØ¬Ø§ÙˆØ² Ø§Ù„Ù…Ø±Ø§Ø­Ù„ ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ†ÙˆØ²", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?hero,platformer,game"},
      {id:20, name:"ØºØ²Ùˆ Ø§Ù„ÙØ¶Ø§Ø¡", desc:"Ø¯Ø§ÙØ¹ Ø¹Ù† Ø§Ù„Ù…Ø¬Ø±Ø© Ø¶Ø¯ Ø§Ù„ØºØ²Ø§Ø©", category:"Ø£ÙƒØ´Ù†", image:"https://source.unsplash.com/800x420/?space,invaders,game"},
      {id:21, name:"Ù…Ø¹Ø±ÙƒØ© Ø§Ù„Ø³Ø­Ø±", desc:"Ø§Ø³ØªØ®Ø¯Ù… ØªØ¹ÙˆÙŠØ°Ø§Øª Ù„Ù‡Ø²ÙŠÙ…Ø© Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?magic,battle,spell"},
      {id:22, name:"ØµÙŠØ¯ Ø§Ù„Ø£Ø³Ù…Ø§Ùƒ", desc:"Ø§ØµØ·Ø¯ Ø£Ø³Ù…Ø§Ùƒ Ù†Ø§Ø¯Ø±Ø© ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø·", category:"Ù…Ø­Ø§ÙƒØ§Ø©", image:"https://source.unsplash.com/800x420/?fishing,fish,boat"},
      {id:23, name:"Ù…ØªØ§Ù‡Ø© Ø§Ù„Ù‡Ø±ÙˆØ¨", desc:"Ø§Ø®Ø±Ø¬ Ù…Ù† Ø§Ù„Ù…ØªØ§Ù‡Ø© Ù‚Ø¨Ù„ Ù†ÙØ§Ø¯ Ø§Ù„ÙˆÙ‚Øª", category:"Ø£Ù„ØºØ§Ø²", image:"https://source.unsplash.com/800x420/?maze,labyrinth,escape"},
      {id:24, name:"Ø§Ù„Ø¨Ù‚Ø§Ø¡ Ø¹Ù„Ù‰ Ù‚ÙŠØ¯ Ø§Ù„Ø­ÙŠØ§Ø©", desc:"Ø§Ø¬Ù…Ø¹ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ ÙˆØ§Ø¨Ù‚Ù Ø­ÙŠÙ‹Ø§", category:"Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©", image:"https://source.unsplash.com/800x420/?survival,island,camp"},
      {id:25, name:"Ø³Ø¨Ø§Ù‚ Ø§Ù„ØµØ­Ø±Ø§Ø¡", desc:"Ù‚Ø¯ Ø¹Ø¨Ø± Ø§Ù„Ø±Ù…Ø§Ù„ ÙˆØªÙØ§Ø¯Ù‰ Ø§Ù„Ø¹Ù‚Ø¨Ø§Øª", category:"Ø³Ø¨Ø§Ù‚", image:"https://source.unsplash.com/800x420/?desert,rally,car"},
      {id:26, name:"Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„Ø¨Ø±ÙƒØ§Ù†", desc:"Ø§Ù‡Ø±Ø¨ Ù…Ù† Ø§Ù„Ø¨Ø±ÙƒØ§Ù† Ø§Ù„Ù…ØªÙØ¬Ø±", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?volcano,escape,adventure"},
      {id:27, name:"Ù…ØªØ³Ù„Ù‚ Ø§Ù„Ø¬Ø¨Ø§Ù„", desc:"ØªØ³Ù„Ù‚ Ø§Ù„Ù‚Ù…Ù… ÙˆÙ„Ø§ ØªØ³Ù‚Ø·", category:"Ø±ÙŠØ§Ø¶Ø©", image:"https://source.unsplash.com/800x420/?mountain,climbing,peak"},
      {id:28, name:"Ø³Ø¨Ø§Ù‚ Ø§Ù„Ø´ÙˆØ§Ø±Ø¹", desc:"ØªØ­Ø¯Ù‘Ù Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† ÙÙŠ Ø´ÙˆØ§Ø±Ø¹ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", category:"Ø³Ø¨Ø§Ù‚", image:"https://source.unsplash.com/800x420/?street,racing,car"},
      {id:29, name:"Ø¬Ù…Ø¹ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø±", desc:"Ø§Ø¬Ù…Ø¹ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø± ÙˆØªØ¬Ù†Ù‘Ø¨ Ø§Ù„ÙØ®Ø§Ø®", category:"Ø£Ø±ÙƒÙŠØ¯", image:"https://source.unsplash.com/800x420/?gems,jewels,treasure"},
      {id:30, name:"Ø§Ù„Ù…Ø­Ù‚Ù‚ Ø§Ù„Ø°ÙƒÙŠ", desc:"Ø­Ù„ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ ÙˆØ§Ø¹Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¯Ù„Ø©", category:"Ø£Ù„ØºØ§Ø²", image:"https://source.unsplash.com/800x420/?detective,mystery,clues"},
      {id:31, name:"Ù…ØºØ§Ù…Ø±Ø§Øª Ø§Ù„Ø¨Ø­Ø±", desc:"Ø§Ø³ØªÙƒØ´Ù Ø£Ø¹Ù…Ø§Ù‚ Ø§Ù„Ø¨Ø­Ø± ÙˆØºØ§Ù„Ø¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø±", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?underwater,diver,sea"},
      {id:32, name:"Ø§Ù„Ø¨Ø·Ù„ Ø§Ù„Ø®Ø§Ø±Ù‚", desc:"Ø§Ø³ØªØ¹Ù…Ù„ Ù‚ÙˆØ§Ùƒ Ù„Ø¥Ù†Ù‚Ø§Ø° Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", category:"Ø£ÙƒØ´Ù†", image:"https://source.unsplash.com/800x420/?superhero,city,action"},
      {id:33, name:"ØªØµÙˆÙŠØ¨ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù", desc:"Ø£Ø¶Ø±Ø¨ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙƒØ§ÙØ¢Øª", category:"Ø£Ø±ÙƒÙŠØ¯", image:"https://source.unsplash.com/800x420/?target,shooting,aim"},
      {id:34, name:"ØªØ±ÙƒÙŠØ¨ Ø§Ù„ØµÙˆØ±", desc:"Ø£Ø¹Ø¯ ØªØ±ÙƒÙŠØ¨ Ø§Ù„ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ù‚Ø·Ø¹", category:"Ø£Ù„ØºØ§Ø²", image:"https://source.unsplash.com/800x420/?jigsaw,puzzle,pieces"},
      {id:35, name:"Ù…ØºØ§Ù…Ø±Ø§Øª Ø§Ù„ÙƒÙ„Ø¨", desc:"Ø³Ø§Ø¹Ø¯ Ø§Ù„ÙƒÙ„Ø¨ Ø¨Ø¬Ù…Ø¹ Ø§Ù„Ø¹Ø¸Ø§Ù…", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?dog,puppy,adventure"},
      {id:36, name:"Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", desc:"Ø§Ø¨Ù†Ù Ù…Ø¯ÙŠÙ†ØªÙƒ ÙˆØ·ÙˆØ±Ù‡Ø§ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©", category:"Ù…Ø­Ø§ÙƒØ§Ø©", image:"https://source.unsplash.com/800x420/?city,building,simulation"},
      {id:37, name:"ØªØ­Ø¯ÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹", desc:"Ø£Ø¬Ø¨ Ø¨Ø³Ø±Ø¹Ø© Ù„ØªÙ‚ÙŠÙŠÙ… Ù…Ù‡Ø§Ø±Ø§ØªÙƒ", category:"ØªØ¹Ù„ÙŠÙ…ÙŠ", image:"https://source.unsplash.com/800x420/?quiz,brain,challenge"},
      {id:38, name:"Ø­Ø±Ø¨ Ø§Ù„Ø·Ø§Ø¦Ø±Ø§Øª", desc:"Ù‚ÙØ¯ Ø·Ø§Ø¦Ø±Ø§ØªÙƒ ÙˆØ­Ø§Ø±Ø¨ Ø£Ø¹Ø¯Ø§Ø¡ Ø§Ù„Ø³Ù…Ø§Ø¡", category:"Ø£ÙƒØ´Ù†", image:"https://source.unsplash.com/800x420/?fighter,plane,combat"},
      {id:39, name:"Ø§Ù„Ù‡Ø±ÙˆØ¨ Ù…Ù† Ø§Ù„Ø¯ÙŠÙ†Ø§ØµÙˆØ±", desc:"Ø§Ø±ÙƒØ¶ ÙˆØ§Ù‡Ø±Ø¨ Ù…Ù† Ø§Ù„Ø¯ÙŠÙ†Ø§ØµÙˆØ±Ø§Øª", category:"Ø£Ø±ÙƒÙŠØ¯", image:"https://source.unsplash.com/800x420/?dinosaur,t-rex,chase"},
      {id:40, name:"Ø³Ø¨Ø§Ù‚ Ø§Ù„Ø±Ø§Ù„ÙŠ", desc:"ØªÙ†Ø§ÙØ³ ÙÙŠ Ø±Ø§Ù„ÙŠ Ø¹Ø¨Ø± ØªØ¶Ø§Ø±ÙŠØ³ Ù…ØªÙ†ÙˆØ¹Ø©", category:"Ø³Ø¨Ø§Ù‚", image:"https://source.unsplash.com/800x420/?rally,offroad,car"},
      {id:41, name:"Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø«Ù„Ø§Ø«Ø©", desc:"Ø§Ø¯Ù…Ø¬ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡Ø© Ù„Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØµÙÙˆÙ", category:"Ø£Ù„ØºØ§Ø²", image:"https://source.unsplash.com/800x420/?match3,puzzle,game"},
      {id:42, name:"Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø£Ø­Ù„Ø§Ù…", desc:"Ø§Ø²Ø±Ø¹ ÙˆØ§Ø¹ØªÙ†Ù Ø¨Ù…Ø­ØµÙˆÙ„Ùƒ", category:"Ù…Ø­Ø§ÙƒØ§Ø©", image:"https://source.unsplash.com/800x420/?farm,farming,harvest"},
      {id:43, name:"Ø´Ø·Ø±Ù†Ø¬ Ø³Ø±ÙŠØ¹", desc:"Ù„Ø¹Ø¨ Ø´Ø·Ø±Ù†Ø¬ Ø¶Ø¯ Ø®ØµÙ… Ø°ÙƒÙŠ", category:"Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©", image:"https://source.unsplash.com/800x420/?chess,board,game"},
      {id:44, name:"Ø¨Ø·ÙˆÙ„Ø© Ø§Ù„Ù…Ù„Ø§ÙƒÙ…Ø©", desc:"Ù‚Ø§ØªÙ„ Ù„ØªØµØ¨Ø­ Ø¨Ø·Ù„ Ø§Ù„Ø­Ù„Ø¨Ø©", category:"Ø±ÙŠØ§Ø¶Ø©", image:"https://source.unsplash.com/800x420/?boxing,ring,match"},
      {id:45, name:"Ù…Ø·Ø§Ø±Ø¯Ø© Ø§Ù„Ù„ØµÙˆØµ", desc:"Ø£Ù…Ø³ÙÙƒ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ù‚Ø¨Ù„ Ù‡Ø±ÙˆØ¨Ù‡", category:"Ø£ÙƒØ´Ù†", image:"https://source.unsplash.com/800x420/?police,chase,thief"},
      {id:46, name:"Ù„ØºØ² Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©", desc:"Ø­Ù„ Ù…Ù‡Ø§Ù… Ù…Ù†Ø·Ù‚ÙŠØ© Ø¨Ø±Ù…Ø¬ÙŠØ©", category:"ØªØ¹Ù„ÙŠÙ…ÙŠ", image:"https://source.unsplash.com/800x420/?coding,puzzle,programming"},
      {id:47, name:"Ù…Ù‡Ù…Ø© Ø§Ù„ÙØ¶Ø§Ø¡", desc:"Ù‚Ù… Ø¨Ù…Ù‡Ø§Ù… Ø§Ø³ØªÙƒØ´Ø§Ù Ù„ÙƒÙˆÙƒØ¨ Ø¬Ø¯ÙŠØ¯", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?space,mission,planet"},
      {id:48, name:"Ù‚Ù‡Ø± Ø§Ù„Ù…Ù…Ø±Ø§Øª", desc:"ØªÙ†Ù‚Ù‘Ù„ Ø¹Ø¨Ø± Ù…Ù…Ø±Ø§Øª Ø®Ø·Ø±Ø©", category:"Ø£Ø±ÙƒÙŠØ¯", image:"https://source.unsplash.com/800x420/?corridor,endless,runner"},
      {id:49, name:"Ù…Ù…Ø± Ø§Ù„Ø£Ø­Ø¬Ø§Ø±", desc:"Ø­Ù„ Ø£Ù„ØºØ§Ø² Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø­Ø±ÙƒØ©", category:"Ø£Ù„ØºØ§Ø²", image:"https://source.unsplash.com/800x420/?stone,puzzle,rocks"},
      {id:50, name:"ØªØ­Ø¯ÙŠ Ø§Ù„Ø³Ø±Ø¹Ø©", desc:"Ø§Ø®ØªØ¨Ø± Ø³Ø±Ø¹ØªÙƒ ÙˆØ±Ø¯ÙˆØ¯ ÙØ¹Ù„Ùƒ", category:"Ø£Ø±ÙƒÙŠØ¯", image:"https://source.unsplash.com/800x420/?speed,fast,game"},
      {id:51, name:"Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù‚Ø·Ø§Ø±", desc:"Ù‚Ø¯ Ù‚Ø·Ø§Ø±Ùƒ Ø¨Ø£Ù…Ø§Ù† ÙˆÙˆÙ‚Øª Ù…Ø«Ø§Ù„ÙŠ", category:"Ù…Ø­Ø§ÙƒØ§Ø©", image:"https://source.unsplash.com/800x420/?train,railway,simulator"},
      {id:52, name:"ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª", desc:"ØªÙ…Ø§Ø±ÙŠÙ† Ø°Ù‡Ù†ÙŠØ© Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„ØªØ±ÙƒÙŠØ²", category:"ØªØ¹Ù„ÙŠÙ…ÙŠ", image:"https://source.unsplash.com/800x420/?training,brain,skills"},
      {id:53, name:"ØµØ±Ø§Ø¹ Ø§Ù„Ø¢Ù„Ù‡Ø©", desc:"Ù…Ø¹Ø§Ø±Ùƒ Ø£Ø³Ø·ÙˆØ±ÙŠØ© Ø¨ÙŠÙ† Ø¢Ù„Ù‡Ø©", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?gods,mythic,battle"},
      {id:54, name:"Ù†Ø²Ø§Ù„ Ø§Ù„Ø³Ø§Ù…ÙˆØ±Ø§ÙŠ", desc:"Ù‚Ø§ØªĞ» ÙƒØ³Ø§Ù…ÙˆØ±Ø§ÙŠ Ù‚Ø¯ÙŠÙ…", category:"Ø£ÙƒØ´Ù†", image:"https://source.unsplash.com/800x420/?samurai,sword,duel"},
      {id:55, name:"Ù…Ù‡Ù…Ø© Ø§Ù„Ø¥Ù†Ù‚Ø§Ø° Ø§Ù„Ø¨Ø­Ø±ÙŠ", desc:"Ø£Ù†Ù‚Ø° Ø§Ù„Ø³ÙÙ† Ø§Ù„ØºØ§Ø±Ù‚Ø©", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?sea,rescue,ship"},
      {id:56, name:"Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø¯ÙŠÙ†Ø§ØµÙˆØ±Ø§Øª", desc:"Ø§Ø¹ØªÙ†Ù Ø¨Ø¯ÙŠÙ†Ø§ØµÙˆØ±Ø§ØªÙƒ Ø§Ù„ØµØºÙŠØ±Ø©", category:"Ù…Ø­Ø§ÙƒØ§Ø©", image:"https://source.unsplash.com/800x420/?dinosaur,farm,park"},
      {id:57, name:"Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", desc:"Ø­Ù„ Ù…Ø´ÙƒÙ„Ø§Øª Ø³ÙƒØ§Ù† Ù…Ø¯ÙŠÙ†ØªÙƒ", category:"Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©", image:"https://source.unsplash.com/800x420/?city,management,planning"},
      {id:58, name:"Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒØ§Ø±ÙŠÙˆÙƒÙŠ", desc:"ØºÙ†Ù ÙˆØªØµØ¯Ø± Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†", category:"Ù…ÙˆØ³ÙŠÙ‚Ù‰", image:"https://source.unsplash.com/800x420/?karaoke,singing,microphone"},
      {id:59, name:"Ù…Ù…Ø± Ø§Ù„Ù†Ø¬ÙˆÙ…", desc:"Ø§Ù‚ÙØ² Ø¹Ø¨Ø± Ø§Ù„Ù†Ø¬ÙˆÙ… Ø¨Ù…Ù‡Ø§Ø±Ø©", category:"Ø£Ø±ÙƒÙŠØ¯", image:"https://source.unsplash.com/800x420/?stars,jump,space"},
      {id:60, name:"Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø²Ø©", desc:"ØªØ­Ø¯Ù‰ Ø§Ù„Ø®ØµÙˆÙ… ÙÙŠ Ù…Ø¨Ø§Ø±Ø²Ø§Øª Ø³Ø±ÙŠØ¹Ø©", category:"Ø±ÙŠØ§Ø¶Ø©", image:"https://source.unsplash.com/800x420/?fencing,duel,match"},
      {id:61, name:"Ù„ØºØ² Ø§Ù„Ø¸Ù„Ø§Ù„", desc:"Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¶ÙˆØ¡ Ù„Ø­Ù„ Ø§Ù„Ø£Ù„ØºØ§Ø²", category:"Ø£Ù„ØºØ§Ø²", image:"https://source.unsplash.com/800x420/?shadow,light,puzzle"},
      {id:62, name:"Ø±Ø­Ù„Ø© Ø§Ù„Ù‚Ø±Ø§ØµÙ†Ø©", desc:"Ø§Ø¨Ø­Ø± ÙˆØ§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ÙƒÙ†ÙˆØ²", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?pirate,ship,treasure"},
      {id:63, name:"Ù‚Ø§Ø¦Ø¯ Ø§Ù„ÙØ±ÙŠÙ‚", desc:"Ø£ØµØ¯Ø± Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ù„ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù†ØµØ±", category:"Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©", image:"https://source.unsplash.com/800x420/?commander,army,strategy"},
      {id:64, name:"Ø®Ù„ÙŠØ¬ Ø§Ù„ØµÙŠØ§Ø¯", desc:"Ø£Ø¯Ø± Ø®Ù„ÙŠØ¬Ø§Ù‹ Ù„ØµÙŠØ¯ Ø§Ù„Ø£Ø³Ù…Ø§Ùƒ", category:"Ù…Ø­Ø§ÙƒØ§Ø©", image:"https://source.unsplash.com/800x420/?bay,fishing,harbor"},
      {id:65, name:"Ù…ØºØ§Ø¯Ø±Ø© Ø§Ù„Ù…Ø­Ø·Ø©", desc:"Ù†Ù‚Ù‘Ù„ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø¹Ø¨Ø± Ø§Ù„Ù…Ø­Ø·Ø© Ø¨Ù†Ø¸Ø§Ù…", category:"Ø£Ù„ØºØ§Ø²", image:"https://source.unsplash.com/800x420/?station,train,puzzle"},
      {id:66, name:"Ù…Ù…Ø± Ø§Ù„Ø¬Ù„ÙŠØ¯", desc:"ØªØ²Ù„Ø¬ ÙˆØªØ¬Ù†Ø¨ Ø§Ù„Ø¹Ù‚Ø¨Ø§Øª Ø§Ù„Ø¬Ù„ÙŠØ¯ÙŠØ©", category:"Ø±ÙŠØ§Ø¶Ø©", image:"https://source.unsplash.com/800x420/?ice,skating,winter"},
      {id:67, name:"Ø­ÙƒØ§ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", desc:"Ø³Ø±Ø¯ ØªÙØ§Ø¹Ù„ÙŠ Ù…Ø¹ Ø§Ø®ØªÙŠØ§Ø±Ø§ØªÙƒ", category:"Ù…ØºØ§Ù…Ø±Ø©", image:"https://source.unsplash.com/800x420/?story,city,interactive"},
      {id:68, name:"Ù…Ø®ØªØ¨Ø± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡", desc:"Ø§Ù…Ø²Ø¬ Ø§Ù„Ù…ÙˆØ§Ø¯ Ù„ØµÙ†Ø¹ Ù…Ø±ÙƒØ¨Ø§Øª", category:"ØªØ¹Ù„ÙŠÙ…ÙŠ", image:"https://source.unsplash.com/800x420/?chemistry,lab,experiment"},
      {id:69, name:"Ø³Ø¨Ø§Ù‚ Ø§Ù„Ø·Ø§Ø¦Ø±Ø§Øª Ø§Ù„ÙˆØ±Ù‚ÙŠØ©", desc:"Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø·Ø§Ø¦Ø±ØªÙƒ ÙÙŠ Ø§Ù„Ù‡ÙˆØ§Ø¡", category:"Ø³Ø¨Ø§Ù‚", image:"https://source.unsplash.com/800x420/?kite,flight,competition"},
      {id:70, name:"ØµØ§Ù†Ø¹ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„", desc:"Ø§ØµÙ†Ø¹ Ø¨Ø·Ù„Ùƒ ÙˆØ·ÙˆØ±Ù‡ Ù„Ù„Ù‚ØªØ§Ù„", category:"Ø£Ø±ÙƒÙŠØ¯", image:"https://source.unsplash.com/800x420/?hero,creation,game"}
    ];

    const grid = document.getElementById('grid');
    const filtersDiv = document.getElementById('filters');
    const searchInput = document.getElementById('searchInput');
    const clearBtn = document.getElementById('clearBtn');
    const sortSelect = document.getElementById('sortSelect');
    const activeCatSpan = document.getElementById('activeCat');
    const emptyDiv = document.getElementById('empty');

    const FAVORITES_KEY = 'kira_favorites_v1';
    const RATINGS_KEY = 'kira_ratings_v1';
    let favorites = JSON.parse(localStorage.getItem(FAVORITES_KEY) || '[]');
    let ratings = JSON.parse(localStorage.getItem(RATINGS_KEY) || '{}');

    const categories = ['Ø§Ù„ÙƒÙ„', ...Array.from(new Set(games.map(g=>g.category)))];

    let activeCategory = 'Ø§Ù„ÙƒÙ„';
    categories.forEach(cat=>{
      const btn = document.createElement('button');
      btn.className = 'filter-btn' + (cat==='Ø§Ù„ÙƒÙ„' ? ' active' : '');
      btn.textContent = cat;
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        activeCategory = cat;
        activeCatSpan.textContent = cat;
        renderGames();
      });
      filtersDiv.appendChild(btn);
    });

    clearBtn.addEventListener('click', ()=>{
      searchInput.value='';
      renderGames();
      searchInput.focus();
    });

    searchInput.addEventListener('input', debounce(renderGames, 220));
    sortSelect.addEventListener('change', renderGames);

    function downloadLink(game){
      const safe = game.name.toLowerCase().replace(/\s+/g,'_').replace(/[^\w\-]/g,'');
      return `downloads/${safe}.zip`;
    }

    function createCard(game){
      const el = document.createElement('article');
      el.className = 'card';
      el.dataset.name = game.name;

      // ØµÙˆØ±Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© ØªØ¸Ù‡Ø± ÙÙˆÙ‚ Ø§Ù„Ø§Ø³Ù… ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª
      el.innerHTML = `
        <img loading="lazy" class="thumb" src="${game.image}" alt="${escapeHTML(game.name)}">
        <div class="card-body">
          <div class="game-title">
            <h3>${escapeHTML(game.name)}</h3>
            <div style="display:flex;gap:8px;align-items:center">
              <button class="fav" title="Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ÙØ¶Ù„Ø©"> ${favorites.includes(game.id)?'â¤ï¸':'ğŸ¤'} </button>
            </div>
          </div>

          <p class="meta">${escapeHTML(game.desc)}</p>

          <div class="tags">
            <span class="tag">${escapeHTML(game.category)}</span>
          </div>

          <div class="actions">
            <div class="left-actions">
              <a class="btn" href="${downloadLink(game)}" download>ØªØ­Ù…ÙŠÙ„</a>
              <button class="btn outline" data-play>ØªØ´ØºÙŠÙ„</button>
            </div>

            <div style="display:flex;flex-direction:column;align-items:flex-start;gap:6px">
              <div class="stars" title="Ù‚ÙŠÙ… Ø§Ù„Ù„Ø¹Ø¨Ø©">
                ${renderStars(game.id)}
              </div>
              <div style="font-size:12px;color:var(--muted)">Ù…Ø¹Ø±Ù‘Ù: #${game.id}</div>
            </div>
          </div>
        </div>
      `;

      const favBtn = el.querySelector('.fav');
      favBtn.addEventListener('click', ()=>{
        toggleFavorite(game.id, favBtn);
      });

      const playBtn = el.querySelector('[data-play]');
      playBtn.addEventListener('click', ()=>{
        alert(`ØªØ´ØºÙŠÙ„ Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù…Ù†: ${game.name}\n(Ù‡Ø°Ù‡ Ù…Ø¬Ø±Ø¯ Ù…Ø¹Ø§ÙŠÙ†Ø© â€” Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ù†Ø¸Ø§Ù… ØªØ´ØºÙŠÙ„ ÙØ¹Ù„ÙŠ Ù„Ø§Ø­Ù‚Ù‹Ø§)`);
      });

      el.querySelectorAll('.star').forEach(st=>{
        st.addEventListener('click', (e)=>{
          const value = Number(e.currentTarget.dataset.value);
          setRating(game.id, value);
          el.querySelector('.stars').innerHTML = renderStars(game.id);
          el.querySelectorAll('.star').forEach(ns=>{
            ns.addEventListener('click', (ev)=>{
              setRating(game.id, Number(ev.currentTarget.dataset.value));
              el.querySelector('.stars').innerHTML = renderStars(game.id);
            });
          });
        });
      });

      return el;
    }

    function renderStars(id){
      const current = ratings[id] || 0;
      let html = '';
      for(let i=1;i<=5;i++){
        html += `<span class="star ${i<=current ? 'on' : ''}" data-value="${i}">â˜…</span>`;
      }
      return html;
    }

    function toggleFavorite(id, btnEl){
      if(favorites.includes(id)){
        favorites = favorites.filter(x=>x!==id);
      } else {
        favorites.push(id);
      }
      localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));
      btnEl.classList.toggle('active');
      btnEl.innerHTML = favorites.includes(id) ? 'â¤ï¸' : 'ğŸ¤';
    }

    function setRating(id, value){
      ratings[id] = value;
      localStorage.setItem(RATINGS_KEY, JSON.stringify(ratings));
    }

    function filterGames(){
      const q = searchInput.value.trim().toLowerCase();
      let list = games.slice();

      if(activeCategory !== 'Ø§Ù„ÙƒÙ„'){
        list = list.filter(g => g.category === activeCategory);
      }
      if(q){
        list = list.filter(g=>{
          return g.name.toLowerCase().includes(q) || g.desc.toLowerCase().includes(q) || g.category.toLowerCase().includes(q);
        });
      }

      const sort = sortSelect.value;
      if(sort === 'popular'){
        list.sort((a,b)=>{
          const ra = ratings[a.id]||0, rb = ratings[b.id]||0;
          return rb - ra;
        });
      } else if(sort === 'alpha'){
        list.sort((a,b)=> a.name.localeCompare(b.name,'ar'));
      }

      return list;
    }

    function renderGames(){
      const list = filterGames();
      grid.innerHTML = '';
      if(list.length === 0){
        emptyDiv.style.display='block';
      } else {
        emptyDiv.style.display='none';
      }
      list.forEach(g=>{
        grid.appendChild(createCard(g));
      });
    }

    function escapeHTML(str){
      return String(str).replace(/[&<>"']/g, function(m){
        return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]);
      });
    }

    function debounce(fn, wait){
      let t;
      return function(...a){ clearTimeout(t); t = setTimeout(()=>fn.apply(this,a), wait); };
    }

    renderGames();

    document.addEventListener('keydown', (e)=>{
      if(e.key === 'k' && (e.ctrlKey || e.metaKey)){
        e.preventDefault();
        searchInput.focus();
      }
    });

    /* Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©:
       - Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ± Ù‡Ù†Ø§ ØªØ­ØµÙ„ ØµÙˆØ±Ø§Ù‹ Ù…Ù†Ø§Ø³Ø¨Ø© Ù…Ù† Unsplash Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©.
       - Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª ØµÙˆØ±Ù‹Ø§ Ø«Ø§Ø¨ØªØ© ÙˆÙ…Ø¶Ù…ÙˆÙ†Ø©ØŒ Ø£Ù‚Ø¯Ø± Ø£Ø­ÙØ¸ Ù„Ùƒ Ù…Ø¬Ù…ÙˆØ¹Ø© ØµÙˆØ± Ø¯Ø§Ø®Ù„ Ù…Ø¬Ù„Ø¯ images/ ÙˆØ£Ø¹Ø¯Ù„ Ø±ÙˆØ§Ø¨Ø· ÙƒÙ„ Ù„Ø¹Ø¨Ø© Ù„ØªØ´ÙŠØ± Ø¥Ù„ÙŠÙ‡Ø§ (Ø³Ø£Ø®ØªØ§Ø± Ø£Ùˆ ØªØ±ÙØ¹ Ø§Ù„ØµÙˆØ±).
    */

  </script>
</body>
</html>
